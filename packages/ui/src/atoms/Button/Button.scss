.haspen-button {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: var(--haspen-radius-md);
  font-weight: var(--haspen-font-weight-medium);
  cursor: pointer;
  border: none;
  outline: none;
  position: relative;

  // Specific transitions for performance (not 'all')
  transition-property:
    background-color, border-color, color, box-shadow, transform;
  transition-duration: var(--haspen-duration-fast);
  transition-timing-function: var(--haspen-ease-out);

  // Variants with modern light-dark() support
  &--primary {
    background-color: var(--haspen-color-primary);
    color: white;

    &:hover:not(:disabled) {
      background-color: var(--haspen-color-primary-hover);
    }
  }

  &--secondary {
    background-color: var(--haspen-color-surface);
    color: var(--haspen-color-text-primary);
    border: 1px solid var(--haspen-color-border);

    &:hover:not(:disabled) {
      background-color: var(--haspen-color-surface-hover);
    }
  }

  &--outline {
    background-color: transparent;
    border: 1px solid var(--haspen-color-primary);
    color: var(--haspen-color-primary);

    &:hover:not(:disabled) {
      background-color: var(--haspen-color-surface);
    }
  }

  &--ghost {
    background-color: transparent;
    color: var(--haspen-color-primary);

    &:hover:not(:disabled) {
      background-color: var(--haspen-color-surface);
    }
  }

  // Sizes
  &--sm {
    padding: var(--haspen-space-sm) var(--haspen-space-md);
    font-size: var(--haspen-font-size-sm);
  }

  &--md {
    padding: var(--haspen-space-md) var(--haspen-space-lg);
    font-size: var(--haspen-font-size-base);
  }

  &--lg {
    padding: var(--haspen-space-lg) var(--haspen-space-xl);
    font-size: var(--haspen-font-size-lg);
  }

  // States
  &--loading {
    cursor: wait;

    .haspen-button__content {
      visibility: hidden;
    }
  }

  &--disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }

  // Loader
  &__loader {
    position: absolute;
    width: 1rem;
    height: 1rem;
    border: 2px solid currentcolor;
    border-radius: 50%;
    border-right-color: transparent;
    animation: spin 0.75s linear infinite;
  }
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(360deg);
  }
}
